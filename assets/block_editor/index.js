(window.webpackJsonp_getdave_sbe=window.webpackJsonp_getdave_sbe||[]).push([[1],{70:function(e,t,n){}}]),function(e){function t(t){for(var r,a,c=t[0],l=t[1],u=t[2],f=0,p=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);p.length;)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp_getdave_sbe=window.webpackJsonp_getdave_sbe||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;i.push([72,1]),n()}([function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.richText},function(e,t){e.exports=window.wp.url},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.keycodes},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=window.wp.compose},function(e,t,n){var r=n(16),o=n(49),i=n(50),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){e.exports=n(37)},function(e,t,n){var r=n(17).Symbol;e.exports=r},function(e,t,n){var r=n(18),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(48))},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(62),o=n(21);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){e.exports=window.wp.domReady},function(e,t){e.exports=window.wp.blockLibrary},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.mediaUtils},function(e,t){e.exports=window.wp.dom},function(e,t,n){"use strict";e.exports=n(68)},function(e,t){e.exports=window.wp.htmlEntities},,,,,,function(e,t){e.exports=window.wp.editor},function(e,t){e.exports=window.wp.formatLibrary},function(e,t,n){var r=n(38),o=n(39),i=n(65),a=n(19);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(40),o=n(64)(r);e.exports=o},function(e,t,n){var r=n(41),o=n(43);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){var r=n(42)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var l=a[e?c:++o];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var r=n(44),o=n(58),i=n(22);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(45),o=n(46),i=n(19),a=n(51),c=n(53),l=n(54),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),s=!n&&o(e),f=!n&&!s&&a(e),p=!n&&!s&&!f&&l(e),d=n||s||f||p,b=d?r(e.length,String):[],m=b.length;for(var y in e)!t&&!u.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,m))||b.push(y);return b}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(47),o=n(14),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!c.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(13),o=n(14);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(16),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){(function(e){var r=n(17),o=n(52),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?r.Buffer:void 0,l=(c?c.isBuffer:void 0)||o;e.exports=l}).call(this,n(20)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(55),o=n(56),i=n(57),a=i&&i.isTypedArray,c=a?o(a):r;e.exports=c},function(e,t,n){var r=n(13),o=n(21),i=n(14),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(18),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,c=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=c}).call(this,n(20)(e))},function(e,t,n){var r=n(59),o=n(60),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(61)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(13),o=n(63);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(22);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,c=Object(n);(t?a--:++a<i)&&!1!==o(c[a],a,c););return n}}},function(e,t,n){var r=n(66);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=window.wp.apiFetch},function(e,t,n){"use strict";var r=n(69);e.exports=function(e,t,n){n=n||{},9===t.nodeType&&(t=r.getWindow(t));var o=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,a=n.alignWithTop,c=n.alignWithLeft,l=n.offsetTop||0,u=n.offsetLeft||0,s=n.offsetBottom||0,f=n.offsetRight||0;o=void 0===o||o;var p=r.isWindow(t),d=r.offset(e),b=r.outerHeight(e),m=r.outerWidth(e),y=void 0,v=void 0,h=void 0,g=void 0,w=void 0,O=void 0,j=void 0,S=void 0,k=void 0,_=void 0;p?(j=t,_=r.height(j),k=r.width(j),S={left:r.scrollLeft(j),top:r.scrollTop(j)},w={left:d.left-S.left-u,top:d.top-S.top-l},O={left:d.left+m-(S.left+k)+f,top:d.top+b-(S.top+_)+s},g=S):(y=r.offset(t),v=t.clientHeight,h=t.clientWidth,g={left:t.scrollLeft,top:t.scrollTop},w={left:d.left-(y.left+(parseFloat(r.css(t,"borderLeftWidth"))||0))-u,top:d.top-(y.top+(parseFloat(r.css(t,"borderTopWidth"))||0))-l},O={left:d.left+m-(y.left+h+(parseFloat(r.css(t,"borderRightWidth"))||0))+f,top:d.top+b-(y.top+v+(parseFloat(r.css(t,"borderBottomWidth"))||0))+s}),w.top<0||O.top>0?!0===a?r.scrollTop(t,g.top+w.top):!1===a?r.scrollTop(t,g.top+O.top):w.top<0?r.scrollTop(t,g.top+w.top):r.scrollTop(t,g.top+O.top):i||((a=void 0===a||!!a)?r.scrollTop(t,g.top+w.top):r.scrollTop(t,g.top+O.top)),o&&(w.left<0||O.left>0?!0===c?r.scrollLeft(t,g.left+w.left):!1===c?r.scrollLeft(t,g.left+O.left):w.left<0?r.scrollLeft(t,g.left+w.left):r.scrollLeft(t,g.left+O.left):i||((c=void 0===c||!!c)?r.scrollLeft(t,g.left+w.left):r.scrollLeft(t,g.left+O.left)))}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function i(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function a(e){return i(e)}function c(e){return i(e,!0)}function l(e){var t=function(e){var t,n=void 0,r=void 0,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=a(r),t.top+=c(r),t}var u=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),s=/^(top|right|bottom|left)$/,f="left",p=void 0;function d(e,t){for(var n=0;n<e.length;n++)t(e[n])}function b(e){return"border-box"===p(e,"boxSizing")}"undefined"!=typeof window&&(p=window.getComputedStyle?function(e,t,n){var r="",o=e.ownerDocument,i=n||o.defaultView.getComputedStyle(e,null);return i&&(r=i.getPropertyValue(t)||i[t]),r}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(u.test(n)&&!s.test(t)){var r=e.style,o=r[f],i=e.runtimeStyle[f];e.runtimeStyle[f]=e.currentStyle[f],r[f]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[f]=o,e.runtimeStyle[f]=i}return""===n?"auto":n});var m=["margin","border","padding"];function y(e,t,n){var r={},o=e.style,i=void 0;for(i in t)t.hasOwnProperty(i)&&(r[i]=o[i],o[i]=t[i]);for(i in n.call(e),t)t.hasOwnProperty(i)&&(o[i]=r[i])}function v(e,t,n){var r=0,o=void 0,i=void 0,a=void 0;for(i=0;i<t.length;i++)if(o=t[i])for(a=0;a<n.length;a++){var c;c="border"===o?o+n[a]+"Width":o+n[a],r+=parseFloat(p(e,c))||0}return r}function h(e){return null!=e&&e==e.window}var g={};function w(e,t,n){if(h(e))return"width"===t?g.viewportWidth(e):g.viewportHeight(e);if(9===e.nodeType)return"width"===t?g.docWidth(e):g.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.offsetWidth:e.offsetHeight,i=(p(e),b(e)),a=0;(null==o||o<=0)&&(o=void 0,(null==(a=p(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=i?1:-1);var c=void 0!==o||i,l=o||a;if(-1===n)return c?l-v(e,["border","padding"],r):a;if(c){var u=2===n?-v(e,["border"],r):v(e,["margin"],r);return l+(1===n?0:u)}return a+v(e,m.slice(n),r)}d(["Width","Height"],(function(e){g["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],g["viewport"+e](n))},g["viewport"+e]=function(t){var n="client"+e,r=t.document,o=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||o&&o[n]||i}}));var O={position:"absolute",visibility:"hidden",display:"block"};function j(e){var t=void 0,n=arguments;return 0!==e.offsetWidth?t=w.apply(void 0,n):y(e,O,(function(){t=w.apply(void 0,n)})),t}function S(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":o(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):p(e,t);for(var i in t)t.hasOwnProperty(i)&&S(e,i,t[i])}d(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);g["outer"+t]=function(t,n){return t&&j(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];g[e]=function(t,r){return void 0===r?t&&j(t,e,-1):t?(p(t),b(t)&&(r+=v(t,["padding","border"],n)),S(t,e,r)):void 0}})),e.exports=r({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return l(e);!function(e,t){"static"===S(e,"position")&&(e.style.position="relative");var n=l(e),r={},o=void 0,i=void 0;for(i in t)t.hasOwnProperty(i)&&(o=parseFloat(S(e,i))||0,r[i]=o+t[i]-n[i]);S(e,r)}(e,t)},isWindow:h,each:d,css:S,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(h(e)){if(void 0===t)return a(e);window.scrollTo(t,c(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(h(e)){if(void 0===t)return c(e);window.scrollTo(a(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},g)},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"enableComplementaryArea",(function(){return g})),n.d(r,"disableComplementaryArea",(function(){return w})),n.d(r,"pinItem",(function(){return j})),n.d(r,"unpinItem",(function(){return S}));var o={};n.r(o),n.d(o,"getActiveComplementaryArea",(function(){return k})),n.d(o,"isItemPinned",(function(){return _}));var i=n(23),a=n.n(i),c=n(1),l=n(24),u=n(10),s=n(2),f=n(9);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n(5);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=Object(f.combineReducers)({singleEnableItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.itemType,o=t.scope,i=t.item;return"SET_SINGLE_ENABLE_ITEM"===n&&r&&o?m({},e,p({},r,m({},e[r],p({},o,i||null)))):e},multipleEnableItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.itemType,o=t.scope,i=t.item,a=t.isEnable;if("SET_MULTIPLE_ENABLE_ITEM"!==n||!r||!o||!i||Object(d.get)(e,[r,o,i])===a)return e;var c=e[r]||{},l=c[o]||{};return m({},e,p({},r,m({},c,p({},o,m({},l,p({},i,a||!1))))))}}),v=Object(f.combineReducers)({enableItems:y});function h(e,t,n){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:n}}function g(e,t){return h("complementaryArea",e,t)}function w(e){return h("complementaryArea",e,void 0)}function O(e,t,n,r){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:n,isEnable:r}}function j(e,t){return O("pinnedItems",e,t,!0)}function S(e,t){return O("pinnedItems",e,t,!1)}function k(e,t){return function(e,t,n){return Object(d.get)(e.enableItems.singleEnableItems,["complementaryArea",n])}(e,0,t)}function _(e,t,n){return!1!==function(e,t,n,r){return Object(d.get)(e.enableItems.multipleEnableItems,["pinnedItems",n,r])}(e,0,t,n)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object(f.registerStore)("core/interface",{reducer:v,actions:r,selectors:o,persist:["enableItems"]});var x=n(25),P=n.n(x);function T(e,t){return!t||"object"!==P()(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=(t=i,function(){var e,n=C(t);if(I()){var r=C(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return T(this,e)});function i(){return R(this,i),o.apply(this,arguments)}return n=i,(r=[{key:"componentDidMount",value:function(){this.isSticky=!1,this.sync(),document.body.classList.contains("sticky-menu")&&(this.isSticky=!0,document.body.classList.remove("sticky-menu"))}},{key:"componentWillUnmount",value:function(){this.isSticky&&document.body.classList.add("sticky-menu")}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&this.sync()}},{key:"sync",value:function(){this.props.isActive?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode")}},{key:"render",value:function(){return null}}])&&E(n.prototype,r),i}(c.Component),N=n(8),F=n.n(N),B=n(0);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=Object(s.navigateRegions)((function(e){var t=e.footer,n=e.header,r=e.sidebar,o=e.leftSidebar,i=e.content,a=e.actions,l=e.labels,u=e.className;!function(e){Object(c.useEffect)((function(){var t=document&&document.querySelector("html:not(.".concat(e,")"));if(t)return t.classList.toggle(e),function(){t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{
/* translators: accessibility text for the top bar landmark region. */
header:Object(B.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(B.__)("Content"),
/* translators: accessibility text for the left sidebar landmark region. */
leftSidebar:Object(B.__)("Left sidebar"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(B.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(B.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(B.__)("Footer")},{},l);return Object(c.createElement)("div",{className:F()(u,"interface-interface-skeleton")},!!n&&Object(c.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":s.header,tabIndex:"-1"},n),Object(c.createElement)("div",{className:"interface-interface-skeleton__body"},!!o&&Object(c.createElement)("div",{className:"interface-interface-skeleton__left-sidebar",role:"region","aria-label":s.leftSidebar,tabIndex:"-1"},o),Object(c.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":s.body,tabIndex:"-1"},i),!!r&&Object(c.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":s.sidebar,tabIndex:"-1"},r),!!a&&Object(c.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":s.actions,tabIndex:"-1"},a)),!!t&&Object(c.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":s.footer,tabIndex:"-1"},t))})),W=Object(s.createSlotFill)("StandAloneBlockEditorSidebarInspector"),U=W.Slot,H=W.Fill;function V(){return React.createElement("div",{className:"fce-sidebar",role:"region","aria-label":Object(B.__)("advanced settings."),tabIndex:"-1"},React.createElement(s.Panel,{header:Object(B.__)("Block Settings")},React.createElement(U,{bubblesVirtually:!0})))}V.InspectorFill=H;var G=V,K=(n(35),n(36),n(26)),q=n(6),z=["onError"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e){var t,n,r=e.settings,o=e.onChangeContent,i=(t=Object(c.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1];r.__experimentalSetIsInserterOpened=function(e){e&&jQuery(".fce_inserter button.block-editor-inserter__toggle").trigger("click")};var s=Object(f.useSelect)((function(e){return!0}),[]),p=Object(c.useMemo)((function(){return s?$($({},r),{},{mediaUpload:function(e){var t=e.onError,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,z);Object(K.uploadMedia)($({wpAllowedMimeTypes:r.allowedMimeTypes,onError:function(e){var n=e.message;return t(n)}},n))}}):r}),[s,r]);function d(e){l(e),null!=e&&e.length&&o(Object(u.serialize)(e))}return Object(c.useEffect)((function(){var e=p.content;null!=e&&e.length&&d((function(){return Object(u.parse)(e)}))}),[]),React.createElement("div",{className:"fce-block-editor"},React.createElement(q.BlockEditorProvider,{value:a,onInput:d,onChange:function(e){l(e),o(Object(u.serialize)(e))},settings:p},React.createElement(G.InspectorFill,null,React.createElement(q.BlockInspector,null)),React.createElement("div",{className:"editor-styles-wrapper"},React.createElement(q.WritingFlow,null,React.createElement(q.ObserveTyping,null,React.createElement("span",{className:"fce_inserter"},React.createElement(q.Inserter,null)),React.createElement(q.BlockList,{className:"fce-block-editor__block-list fc_editor_body"}))))))},Z=function(e){var t=e.settings,n=e.onChangeHandle;return React.createElement(React.Fragment,null,React.createElement(A,{isActive:!1}),React.createElement(s.SlotFillProvider,null,React.createElement(s.DropZoneProvider,null,React.createElement(s.FocusReturnProvider,null,React.createElement(D,{sidebar:React.createElement(G,null),content:React.createElement(React.Fragment,null,React.createElement(Y,{onChangeContent:n,settings:t}))}),React.createElement(s.Popover.Slot,null)))))},ee=n(15),te=n.n(ee),ne={name:"crm_prefixes",className:"editor-autocompleters__crm",triggerPrefix:"@",options:function(e){var t=[];return te()(window.fcAdmin.globalSmartCodes,(function(e){te()(e.shortcodes,(function(n,r){t.push({code:r,title:n,prefix:e.key})}))})),t},isDebounced:!0,getOptionKeywords:function(e){return[e.title,e.code]},getOptionLabel:function(e){return[React.createElement("span",{key:"name",className:"editor-autocompleters__user-name"},e.title)]},getOptionCompletion:function(e){return e.code}},re=n(11);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=wp.i18n.__,fe=wp.element.Component,pe=wp.components,de=pe.TextControl,be=pe.Button,me=pe.Tooltip,ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ue(r);if(o){var n=ue(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return le(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={active:!1},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,r=t.top,o=t.right,i=t.bottom,a=t.left,c=t.label,l=t.setAttributes;return React.createElement("div",{className:"fce-dimension-box-wrapper"},React.createElement("label",null," ",c," "),React.createElement("div",{className:"fce-dimension-box"},React.createElement(de,{type:"number",className:"fce-dimension-box-top",value:n[r],Placeholder:"Top",onChange:function(t){var n;e.state.active?l((ie(n={},r,parseInt(t)),ie(n,o,parseInt(t)),ie(n,i,parseInt(t)),ie(n,a,parseInt(t)),n)):l(ie({},r,parseInt(t)))}}),React.createElement(de,{type:"number",className:"fce-dimension-box-right",value:n[o],Placeholder:"Right",onChange:function(t){var n;e.state.active?l((ie(n={},r,parseInt(t)),ie(n,o,parseInt(t)),ie(n,i,parseInt(t)),ie(n,a,parseInt(t)),n)):l(ie({},o,parseInt(t)))}}),React.createElement(de,{type:"number",className:"fce-dimension-box-bottom",value:n[i],Placeholder:"Bottom",onChange:function(t){var n;e.state.active?l((ie(n={},r,parseInt(t)),ie(n,o,parseInt(t)),ie(n,i,parseInt(t)),ie(n,a,parseInt(t)),n)):l(ie({},i,parseInt(t)))}}),React.createElement(de,{type:"number",className:"fce-dimension-box-left",value:n[a],Placeholder:"Left",onChange:function(t){var n;e.state.active?l((ie(n={},r,parseInt(t)),ie(n,o,parseInt(t)),ie(n,i,parseInt(t)),ie(n,a,parseInt(t)),n)):l(ie({},a,parseInt(t)))}}),React.createElement(me,{text:se("Link values together","fluentcrm"),position:"top"},React.createElement(be,{className:this.state.active?"fce-dimension-link-values-together active":"fce-dimension-link-values-together",isDefault:!0,onClick:function(){e.setState({active:!e.state.active},(function(){var t;e.state.active&&l((ie(t={},r,n[r]),ie(t,o,n[r]),ie(t,i,n[r]),ie(t,a,n[r]),t))}))}},React.createElement("i",{className:"dashicons dashicons-admin-links"})))))}}])&&ae(t.prototype,n),a}(fe),ve=["fontFamily","lineHeight","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"],he=function(e,t){var n=Object(d.pickBy)(e,(function(e,t){return!!e&&ve.includes(t)}));return void 0!==e.lineHeight&&e.lineHeight&&(n.lineHeight=e.lineHeight+"px"),n},ge=["select"];function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ke=wp.i18n.__,_e=wp.blockEditor.InspectorControls,Re=wp.compose,Ee=Re.createHigherOrderComponent,xe=Re.compose,Pe=wp.components,Te=Pe.PanelBody,Ce=Pe.SelectControl,Le=Pe.TextControl,Ie=wp.element.Fragment,Ae=wp.hooks.addFilter,Ne=wp.data.withSelect,Fe=["core/paragraph","core/heading","core/image"];Ae("blocks.registerBlockType","fluentcrm/typography/attributes",(function(e,t){return Fe.includes(t)?(void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{fontFamily:{type:"string",default:""},lineHeight:{type:"number",default:""},paddingTop:{type:"number",default:""},paddingRight:{type:"number",default:""},paddingBottom:{type:"number",default:""},paddingLeft:{type:"number",default:""},marginTop:{type:"number",default:""},marginRight:{type:"number",default:""},marginBottom:{type:"number",default:""},marginLeft:{type:"number",default:""}})),e):e})),Ae("editor.BlockEdit","fluentcrm/typography",Ee((function(e){return function(t){if(!Fe.includes(t.name))return React.createElement(e,t);var n=t.attributes,r=t.name,o=t.setAttributes;return React.createElement(Ie,null,React.createElement(e,t),React.createElement(_e,null,React.createElement(Te,{initialOpen:!1,title:ke("core/image"===r?"Advanced Spacing":"Advanced Typography")},("core/heading"===r||"core/paragraph"===r)&&React.createElement(Ie,null,React.createElement(Ce,{label:ke("Font Family"),value:n.fontFamily,options:[{label:"Select a font family",value:""},{label:"Arial",value:"Arial, 'Helvetica Neue', Helvetica, sans-serif"},{label:"Comic Sans",value:"'Comic Sans MS', 'Marker Felt-Thin', Arial, sans-serif"},{label:"Courier New",value:"'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace"},{label:"Georgia",value:"Georgia, Times, 'Times New Roman', serif"},{label:"Helvetica",value:"Helvetica , Arial, Verdana, sans-serif"},{label:"Lucida",value:"Lucida Sans Unicode', 'Lucida Grande', sans-serif"},{label:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{label:"Times New Roman",value:"'Times New Roman', Times, Baskerville, Georgia, serif"},{label:"Trebuchet MS",value:"'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Lato",value:"'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Lora",value:"'Lora', Georgia, 'Times New Roman', serif"},{label:"Merriweather",value:"'Merriweather', Georgia, 'Times New Roman', serif"},{label:"Merriweather Sans",value:"'Merriweather Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Noticia Text",value:"'Noticia Text', Georgia, 'Times New Roman', serif"},{label:"Open Sans",value:"'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Roboto",value:"'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Source Sans Pro",value:"'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif"}],onChange:function(e){return o({fontFamily:e})}}),React.createElement(Le,{label:ke("Line Height"),type:"number",value:n.lineHeight,onChange:function(e){return o({lineHeight:parseInt(e)})}})),React.createElement(ye,Se({},t,{label:ke("Padding"),top:"paddingTop",right:"paddingRight",bottom:"paddingBottom",left:"paddingLeft"})),React.createElement(ye,Se({},t,{label:ke("Margin"),top:"marginTop",right:"marginRight",bottom:"marginBottom",left:"marginLeft"})))))}}),"withControls"));var Be=xe(Ne((function(e){return{selected:e("core/block-editor").getSelectedBlock(),select:e}})));function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?Ve(e):t}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ae("editor.BlockListBlock","fluentcrm/withTypographySettings",Ee((function(e){return Be((function(t){var n=t.select,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,ge),o=r.wrapperProps,i=n("core/block-editor").getBlock(r.rootClientId||r.clientId),a=n("core/block-editor").getBlockName(r.rootClientId||r.clientId);return Fe.includes(a)&&i.attributes&&(o=Oe(Oe({},o),{},{style:he(i.attributes)})),React.createElement(e,Se({},r,{wrapperProps:o}))}))}),"withTypographySettings")),Ae("blocks.getSaveContent.extraProps","fluentcrm/applyTypographySettings",(function(e,t,n){return Fe.includes(t.name)?(void 0!==e.style?e.style=Object.assign(e.style,he(n,t.name)):e.style=he(n,t.name),e):e}));var Ke=window.wp,qe=function(e){return Object(d.pick)(e,["sizes","mime","type","subtype","id","url","alt","link","caption"])},ze=function(e){return Ke.media.query({order:"ASC",orderby:"post__in",post__in:e,posts_per_page:-1,query:!0,type:"image"})},Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ge(r);if(o){var n=Ge(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return He(this,e)});function a(e){var t,n=e.allowedTypes,r=e.gallery,o=void 0!==r&&r,c=e.unstableFeaturedImageFlow,l=void 0!==c&&c,u=e.modalClass,s=e.multiple,f=void 0!==s&&s,p=e.title,d=void 0===p?Object(B.__)("Select or Upload Media"):p;if(De(this,a),(t=i.apply(this,arguments)).openModal=t.openModal.bind(Ve(t)),t.onOpen=t.onOpen.bind(Ve(t)),t.onSelect=t.onSelect.bind(Ve(t)),t.onUpdate=t.onUpdate.bind(Ve(t)),t.onClose=t.onClose.bind(Ve(t)),o)t.buildAndSetGalleryFrame();else{var b={title:d,multiple:f};n&&(b.library={type:n}),t.frame=Ke.media(b)}return u&&t.frame.$el.addClass(u),l&&t.buildAndSetFeatureImageFrame(),t.initializeListeners(),t}return t=a,(n=[{key:"initializeListeners",value:function(){this.frame.on("select",this.onSelect),this.frame.on("update",this.onUpdate),this.frame.on("open",this.onOpen),this.frame.on("close",this.onClose)}},{key:"buildAndSetGalleryFrame",value:function(){var e=this.props,t=e.addToGallery,n=void 0!==t&&t,r=e.allowedTypes,o=e.multiple,i=void 0!==o&&o,a=e.value,c=void 0===a?null:a;if(c!==this.lastGalleryValue){var l;this.lastGalleryValue=c,this.frame&&this.frame.remove(),l=n?"gallery-library":c?"gallery-edit":"gallery",this.GalleryDetailsMediaFrame||(this.GalleryDetailsMediaFrame=Ke.media.view.MediaFrame.Post.extend({createStates:function(){this.states.add([new Ke.media.controller.Library({id:"gallery",title:Ke.media.view.l10n.createGalleryTitle,priority:40,toolbar:"main-gallery",filterable:"uploaded",multiple:"add",editable:!1,library:Ke.media.query(Object(d.defaults)({type:"image"},this.options.library))}),new Ke.media.controller.GalleryEdit({library:this.options.selection,editing:this.options.editing,menu:"gallery",displaySettings:!1,multiple:!0}),new Ke.media.controller.GalleryAdd])}}));var u=ze(c),s=new Ke.media.model.Selection(u.models,{props:u.props.toJSON(),multiple:i});this.frame=new this.GalleryDetailsMediaFrame({mimeType:r,state:l,multiple:i,selection:s,editing:!!c}),Ke.media.frame=this.frame,this.initializeListeners()}}},{key:"buildAndSetFeatureImageFrame",value:function(){var e=Ke.media.view.MediaFrame.Select.extend({featuredImageToolbar:function(e){this.createSelectToolbar(e,{text:Ke.media.view.l10n.setFeaturedImage,state:this.options.state})},createStates:function(){this.on("toolbar:create:featured-image",this.featuredImageToolbar,this),this.states.add([new Ke.media.controller.FeaturedImage])}}),t=ze(this.props.value),n=new Ke.media.model.Selection(t.models,{props:t.props.toJSON()});this.frame=new e({mimeType:this.props.allowedTypes,state:"featured-image",multiple:this.props.multiple,selection:n,editing:!!this.props.value}),Ke.media.frame=this.frame}},{key:"componentWillUnmount",value:function(){this.frame.remove()}},{key:"onUpdate",value:function(e){var t=this.props,n=t.onSelect,r=t.multiple,o=void 0!==r&&r,i=this.frame.state(),a=e||i.get("selection");a&&a.models.length&&n(o?a.models.map((function(e){return qe(e.toJSON())})):qe(a.models[0].toJSON()))}},{key:"onSelect",value:function(){var e=this.props,t=e.onSelect,n=e.multiple,r=void 0!==n&&n,o=this.frame.state().get("selection").toJSON();t(r?o:o[0])}},{key:"onOpen",value:function(){if(this.updateCollection(),this.props.value){if(!this.props.gallery){var e=this.frame.state().get("selection");Object(d.castArray)(this.props.value).forEach((function(t){e.add(Ke.media.attachment(t))}))}ze(Object(d.castArray)(this.props.value)).more()}}},{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"updateCollection",value:function(){var e=this.frame.content.get();if(e&&e.collection){var t=e.collection;t.toArray().forEach((function(e){return e.trigger("destroy",e)})),t.mirroring._hasMore=!0,t.more()}}},{key:"openModal",value:function(){this.props.gallery&&this.props.value&&this.props.value.length>0&&this.buildAndSetGalleryFrame(),this.frame.open()}},{key:"render",value:function(){return this.props.render({open:this.openModal})}}])&&We(t.prototype,n),a}(c.Component),$e=["colorScheme","contentMaxWidth","children"];function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xe=function(e){e.colorScheme,e.contentMaxWidth;var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,$e);return React.createElement("div",Qe({className:"fc-cond-section"},n),React.createElement("div",{className:"fc-cond-blocks"},t))},Ye=(wp.element.createElement,wp.element.Fragment),Ze=wp.components,et=Ze.PanelBody,tt=Ze.SelectControl,nt=(Ze.Notice,Ze.CheckboxControl,Ze.BaseControl,Ze.IconButton,wp.editor),rt=nt.InspectorControls,ot=nt.InnerBlocks,it=wp.i18n,at=it.__,ct=it._x,lt={title:at("Conditional Section"),description:at("Add a section that separates content, and put any other block into it."),category:"layout",icon:"welcome-widgets-menus",keywords:[ct("conditional"),ct("section")],supports:{align:["wide","full"],anchor:!0},attributes:{condition_type:{type:"string"},tag_ids:{type:"array",default:[]}},edit:function(e){var t=e.attributes,n=e.setAttributes,r=t.condition_type,o=t.tag_ids,i=window.fcAdmin.available_tags,a=window.fcAdmin.addons&&window.fcAdmin.addons.fluentcampaign,c=function(e){if(a){var r=e.target,o=r.checked,i=r.value,c=jQuery.extend(!0,[],t.tag_ids);r.checked=o,o?-1==c.indexOf(i)&&(c.push(i),n({tag_ids:c})):(c.splice(c.indexOf(i),1),n({tag_ids:c}))}else alert("This is a pro version feature")};return React.createElement(Ye,null,React.createElement(rt,null,React.createElement(et,{title:at("Conditional Settings")},React.createElement(tt,{label:at("Condition Type"),value:r,onChange:function(e){return n({condition_type:e||"show_if_tag_exist"})},options:[{value:"show_if_tag_exist",label:"Show IF in selected tag"},{value:"show_if_tag_not_exist",label:"Show IF not in selected tag"}]}),React.createElement("div",{className:"fcrm-gb-multi-checkbox"},React.createElement("h4",null,"Select Targeted Tags"),React.createElement("ul",null,i.map((function(e){return React.createElement("label",{className:"checkbox"},e.title,React.createElement("input",{checked:-1!=o.indexOf(e.id),onChange:c,type:"checkbox",value:e.id}),React.createElement("span",{className:"checkmark"}))})))),a?React.createElement("div",{className:"fc_cd_info"},React.createElement("hr",null),React.createElement("b",null,"Tips:"),React.createElement("ul",null,React.createElement("li",null,"This will show/hide only if any tag is matched."),React.createElement("li",{style:{backgroundColor:"#ffffd7"}},"The yellow background in the content is only for editor and to identify the conditional contents"))):React.createElement("div",{style:{color:"red"}},React.createElement("b",null,"Pro Feature:"),React.createElement("p",null,"Conditional Feature will only work if you have FluentCRM pro activated. Please Install FluentCRM Pro First")))),React.createElement(Xe,{colorScheme:r,contentMaxWidth:o},React.createElement(ot,null)))},save:function(e){var t=e.attributes,n=t.colorScheme,r=t.contentMaxWidth,o=t.attachmentId;return React.createElement(Xe,{colorScheme:n,contentMaxWidth:r,className:F()(o&&"has-background-image-".concat(o))},React.createElement(ot.Content,null))}},ut=n(3),st=n(4),ft=n(7),pt=n(27),dt=(n(67),n(28)),bt=n.n(dt),mt=n(12),yt=n(29);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?jt(e):t}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}var _t=function(e){return e.stopPropagation()},Rt=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.FLUENTCRM.$get("smart-links",{search:t});case 2:return n=e.sent,e.abrupt("return",Object(d.map)(n.action_links.data,(function(e){return{url:e.short_url,title:Object(yt.decodeEntities)(e.title),target_url:e.target_url}})));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kt(i,r,o,a,c,"next",e)}function c(e){kt(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=St(r);if(o){var n=St(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ot(this,e)});function a(e){var t,n=e.autocompleteRef;return ht(this,a),(t=i.apply(this,arguments)).onChange=t.onChange.bind(jt(t)),t.onKeyDown=t.onKeyDown.bind(jt(t)),t.autocompleteRef=n||Object(c.createRef)(),t.inputRef=Object(c.createRef)(),t.updateSuggestions=Object(d.throttle)(t.updateSuggestions.bind(jt(t)),200),t.suggestionNodes=[],t.state={suggestions:[],showSuggestions:!1,selectedSuggestion:null},t}return t=a,(n=[{key:"componentDidUpdate",value:function(){var e=this,t=this.state,n=t.showSuggestions,r=t.selectedSuggestion;n&&null!==r&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,bt()(this.suggestionNodes[r],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),this.props.setTimeout((function(){e.scrollingIntoView=!1}),100))}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest}},{key:"bindSuggestionNode",value:function(e){var t=this;return function(n){t.suggestionNodes[e]=n}}},{key:"updateSuggestions",value:function(e){var t=this;if(e.length<2||/^https?:/.test(e))this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});else{this.setState({showSuggestions:!0,selectedSuggestion:null,loading:!0});var n=Rt(e);n.then((function(e){t.suggestionsRequest===n&&(t.setState({suggestions:e,loading:!1}),e.length?t.props.debouncedSpeak(Object(B.sprintf)(Object(B._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length),e.length),"assertive"):t.props.debouncedSpeak(Object(B.__)("No results."),"assertive"))})).catch((function(){t.suggestionsRequest===n&&t.setState({loading:!1})})),this.suggestionsRequest=n}}},{key:"onChange",value:function(e){var t=e.target.value;this.props.onChange(t),this.updateSuggestions(t)}},{key:"onKeyDown",value:function(e){var t=this.state,n=t.showSuggestions,r=t.selectedSuggestion,o=t.suggestions,i=t.loading;if(n&&o.length&&!i){var a=this.state.suggestions[this.state.selectedSuggestion];switch(e.keyCode){case ft.UP:e.stopPropagation(),e.preventDefault();var c=r?r-1:o.length-1;this.setState({selectedSuggestion:c});break;case ft.DOWN:e.stopPropagation(),e.preventDefault();var l=null===r||r===o.length-1?0:r+1;this.setState({selectedSuggestion:l});break;case ft.TAB:null!==this.state.selectedSuggestion&&(this.selectLink(a),this.props.speak(Object(B.__)("Link selected.")));break;case ft.ENTER:null!==this.state.selectedSuggestion&&(e.stopPropagation(),this.selectLink(a))}}else switch(e.keyCode){case ft.UP:0!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(0,0));break;case ft.DOWN:this.props.value.length!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(this.props.value.length,this.props.value.length))}}},{key:"selectLink",value:function(e){this.props.onChange(e.url,e),this.setState({selectedSuggestion:null,showSuggestions:!1})}},{key:"handleOnClick",value:function(e){this.selectLink(e),this.inputRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=void 0===n?"":n,o=t.autoFocus,i=void 0===o||o,a=t.instanceId,c=t.className,l=this.state,u=l.showSuggestions,f=l.suggestions,p=l.selectedSuggestion,d=l.loading,b="block-editor-url-input-suggestions-".concat(a),m="block-editor-url-input-suggestion-".concat(a);return React.createElement("div",{className:F()("editor-url-input block-editor-url-input",c)},React.createElement("input",{autoFocus:i,type:"text","aria-label":Object(B.__)("URL"),required:!0,value:r,onChange:this.onChange,onInput:_t,placeholder:Object(B.__)("Paste or type to search for your Pretty Link"),onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":u,"aria-autocomplete":"list","aria-owns":b,"aria-activedescendant":null!==p?"".concat(m,"-").concat(p):void 0,ref:this.inputRef}),d&&React.createElement(s.Spinner,null),u&&!!f.length&&React.createElement(s.Popover,{position:"bottom",noArrow:!0,focusOnMount:!1},React.createElement("div",{className:"editor-url-input__suggestions block-editor-url-input__suggestions",id:b,ref:this.autocompleteRef,role:"listbox"},f.map((function(t,n){return React.createElement("button",{key:t.id,role:"option",tabIndex:"-1",title:t.target_url,id:"".concat(m,"-").concat(n),ref:e.bindSuggestionNode(n),className:F()("editor-url-input__suggestion block-editor-url-input__suggestion",{"is-selected":n===p}),onClick:function(){return e.handleOnClick(t)},"aria-selected":n===p},t.title)})))))}}])&&gt(t.prototype,n),a}(c.Component),xt=Object(mt.compose)(mt.withSafeTimeout,s.withSpokenMessages,mt.withInstanceId,Object(f.withSelect)((function(e){return{fetchLinkSuggestions:(0,e("core/block-editor").getSettings)().__experimentalFetchLinkSuggestions}})))(Et);function Pt(e){if(!e)return!1;var t=e.trim();if(!t)return!1;if(/^\S+:/.test(t)){var n=Object(st.getProtocol)(t);if(!Object(st.isValidProtocol)(n))return!1;if(Object(d.startsWith)(n,"http")&&!/^https?:\/\/[^\/\s]/i.test(t))return!1;var r=Object(st.getAuthority)(t);if(!Object(st.isValidAuthority)(r))return!1;var o=Object(st.getPath)(t);if(o&&!Object(st.isValidPath)(o))return!1;var i=Object(st.getQueryString)(t);if(i&&!Object(st.isValidQueryString)(i))return!1;var a=Object(st.getFragment)(t);if(a&&!Object(st.isValidFragment)(a))return!1}return!(Object(d.startsWith)(t,"#")&&!Object(st.isValidFragment)(t))}function Tt(e){var t=e.url,n=e.opensInNewWindow,r=e.text,o=e.noFollow,i=e.isSponsored,a={type:"core/link",attributes:{url:t}};if(a.attributes.rel="",o&&(a.attributes.rel+="nofollow noindex "),i&&(a.attributes.rel+="sponsored "),n){
// translators: accessibility label for external links, where the argument is the link text
var c=Object(B.sprintf)(Object(B.__)("%s (opens in a new tab)"),r);a.attributes.target="_blank",a.attributes.rel+="noreferrer noopener",a.attributes["aria-label"]=c}return""===a.attributes.rel&&delete a.attributes.rel,a}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(70);var Lt=["isActive","addingLink","value"];function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?Bt(e):t}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Wt=function(e){return e.stopPropagation()};function Ut(e,t){return e.addingLink||t.editLink}var Ht=function(e){var t=e.value,n=e.onChangeInputValue,r=e.onKeyDown,o=e.submitLink,i=e.autocompleteRef;return React.createElement("form",{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:Wt,onKeyDown:r,onSubmit:o},React.createElement(xt,{value:t,onChange:n,autocompleteRef:i}),React.createElement(s.IconButton,{icon:"editor-break",label:Object(B.__)("Insert Pretty Link"),type:"submit"}))},Vt=function(e){var t=e.url,n=Object(st.prependHTTP)(t),r=F()("editor-format-toolbar__link-container-value block-editor-format-toolbar__link-container-value",{"has-invalid-link":!Pt(n)});return t?React.createElement(s.ExternalLink,{className:r,href:t},Object(st.filterURLForDisplay)(Object(st.safeDecodeURI)(t))):React.createElement("span",{className:r})},Gt=function(e){var t=e.isActive,n=e.addingLink,r=e.value,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Lt),i=Object(c.useMemo)((function(){var e=window.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):null;if(t){if(n)return Object(pt.getRectangleFromRange)(t);var r=t.startContainer;for(r=r.nextElementSibling||r;r.nodeType!==window.Node.ELEMENT_NODE;)r=r.parentNode;var o=r.closest("a");return o?o.getBoundingClientRect():void 0}}),[t,n,r.start,r.end]);return i?React.createElement(q.URLPopover,Dt({anchorRect:i},o)):null},Kt=function(e){var t=e.url,n=e.editLink;return React.createElement("div",{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:Wt},React.createElement(Vt,{url:t}),React.createElement(s.IconButton,{icon:"edit",label:Object(B.__)("Edit"),onClick:n}))},qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(l,e);var t,n,r,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mt(o);if(i){var n=Mt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ft(this,e)});function l(){var e;return It(this,l),(e=a.apply(this,arguments)).editLink=e.editLink.bind(Bt(e)),e.submitLink=e.submitLink.bind(Bt(e)),e.onKeyDown=e.onKeyDown.bind(Bt(e)),e.onChangeInputValue=e.onChangeInputValue.bind(Bt(e)),e.setNoFollow=e.setNoFollow.bind(Bt(e)),e.setIsSponsored=e.setIsSponsored.bind(Bt(e)),e.setLinkTarget=e.setLinkTarget.bind(Bt(e)),e.onClickOutside=e.onClickOutside.bind(Bt(e)),e.resetState=e.resetState.bind(Bt(e)),e.autocompleteRef=Object(c.createRef)(),e.state={noFollow:!1,opensInNewWindow:!1,isSponsored:!1,inputValue:"",newLinkUrl:"",newLinkSlug:"",creatingLink:!1,createdLink:!1,createdLinkError:!1},e}return t=l,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.activeAttributes,r=n.url,o=n.target,i=(n.isSponsored,"_blank"===o);if(!Ut(e,t)){if(r!==t.inputValue)return{inputValue:r};if(i!==t.opensInNewWindow)return{opensInNewWindow:i}}return null}}],(n=[{key:"onKeyDown",value:function(e){[ft.LEFT,ft.DOWN,ft.RIGHT,ft.UP,ft.BACKSPACE,ft.ENTER].indexOf(e.keyCode)>-1&&e.stopPropagation()}},{key:"onChangeInputValue",value:function(e){this.setState({inputValue:e})}},{key:"setLinkTarget",value:function(e){var t=this.props,n=t.activeAttributes.url,r=void 0===n?"":n,o=t.value,i=t.onChange;if(this.setState({opensInNewWindow:e}),!Ut(this.props,this.state)){var a=Object(ut.getTextContent)(Object(ut.slice)(o));i(Object(ut.applyFormat)(o,Tt({url:r,opensInNewWindow:e,text:a})))}}},{key:"setNoFollow",value:function(e){var t=this.props,n=t.activeAttributes.url,r=void 0===n?"":n,o=t.value,i=t.onChange;if(this.setState({noFollow:e}),!Ut(this.props,this.state)){var a=Object(ut.getTextContent)(Object(ut.slice)(o));i(Object(ut.applyFormat)(o,Tt({url:r,opensInNewWindow:opensInNewWindow,text:a,noFollow:e,isSponsored:isSponsored})))}}},{key:"setIsSponsored",value:function(e){var t=this.props,n=t.activeAttributes.url,r=void 0===n?"":n,o=t.value,i=t.onChange;if(this.setState({isSponsored:e}),!Ut(this.props,this.state)){var a=Object(ut.getTextContent)(Object(ut.slice)(o));i(Object(ut.applyFormat)(o,Tt({url:r,opensInNewWindow:opensInNewWindow,text:a,noFollow:noFollow,isSponsored:e})))}}},{key:"editLink",value:function(e){this.setState({editLink:!0}),e.preventDefault()}},{key:"submitLink",value:function(e){var t=this.props,n=t.isActive,r=t.value,o=t.onChange,i=t.speak,a=this.state,c=a.inputValue,l=a.opensInNewWindow,u=a.noFollow,s=a.isSponsored,f=Object(st.prependHTTP)(c),p=Tt({url:f,opensInNewWindow:l,text:Object(ut.getTextContent)(Object(ut.slice)(r)),noFollow:u,isSponsored:s});if(e.preventDefault(),Object(ut.isCollapsed)(r)&&!n){var d=Object(ut.applyFormat)(Object(ut.create)({text:f}),p,0,f.length);o(Object(ut.insert)(r,d))}else o(Object(ut.applyFormat)(r,p));this.resetState(),Pt(f)?i(n?Object(B.__)("Link edited."):Object(B.__)("Link inserted."),"assertive"):i(Object(B.__)("Warning: the link has been inserted but may have errors. Please test it."),"assertive")}},{key:"onClickOutside",value:function(e){var t=this.autocompleteRef.current;t&&t.contains(e.target)||this.resetState()}},{key:"resetState",value:function(){this.props.stopAddingLink(),this.setState({editLink:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isActive,r=t.activeAttributes.url,o=t.addingLink,i=t.value;if(!n&&!o)return null;var a=this.state,l=a.inputValue,u=a.noFollow,f=a.opensInNewWindow,p=a.isSponsored,d=(a.newLinkUrl,a.newLinkSlug,a.creatingLink,a.createdLink,a.createdLinkError,Ut(this.props,this.state));return React.createElement(Gt,{className:"pretty-link-inserter",value:i,isActive:n,addingLink:o,onClickOutside:this.onClickOutside,onClose:this.resetState,focusOnMount:!!d&&"firstElement",renderSettings:function(){return React.createElement(c.Fragment,null,React.createElement("div",null,React.createElement(s.ToggleControl,{label:Object(B.__)("Open in New Tab"),checked:f,onChange:e.setLinkTarget}),React.createElement(s.ToggleControl,{label:Object(B.__)("Nofollow"),checked:u,onChange:e.setNoFollow}),React.createElement(s.ToggleControl,{label:Object(B.__)("Sponsored Link"),checked:p,onChange:e.setIsSponsored})))}},d?React.createElement(Ht,{value:l,onChangeInputValue:this.onChangeInputValue,onKeyDown:this.onKeyDown,submitLink:this.submitLink,autocompleteRef:this.autocompleteRef}):React.createElement(Kt,{url:r,editLink:this.editLink}))}}])&&At(t.prototype,n),r&&At(t,r),l}(c.Component),zt=Object(s.withSpokenMessages)(qt);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?Zt(e):t}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tn=Object(B.__)("SmartLinks"),nn={name:"fluentcrm/smart-links",title:tn,tagName:"a",className:"smart-link",attributes:{url:"href",target:"target"},edit:Object(s.withSpokenMessages)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=en(r);if(o){var n=en(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yt(this,e)});function a(){var e;return $t(this,a),(e=i.apply(this,arguments)).addLink=e.addLink.bind(Zt(e)),e.stopAddingLink=e.stopAddingLink.bind(Zt(e)),e.onRemoveFormat=e.onRemoveFormat.bind(Zt(e)),e.state={addingLink:!1},e}return t=a,(n=[{key:"addLink",value:function(){var e=this.props,t=e.value,n=e.onChange,r=Object(ut.getTextContent)(Object(ut.slice)(t));r&&Object(st.isURL)(r)?n(Object(ut.applyFormat)(t,{type:"fluentcrm/smart-links",attributes:{url:r}})):this.setState({addingLink:!0})}},{key:"stopAddingLink",value:function(){this.setState({addingLink:!1})}},{key:"onRemoveFormat",value:function(){var e=this.props,t=e.value,n=e.onChange,r=e.speak;n(Object(ut.removeFormat)(t,"fluentcrm/smart-links")),r(Object(B.__)("Link removed."),"assertive")}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.activeAttributes,r=e.value,o=e.onChange;return React.createElement(React.Fragment,null,React.createElement(q.RichTextShortcut,{type:"primary",character:"p",onUse:this.addLink}),React.createElement(q.RichTextShortcut,{type:"primaryShift",character:"p",onUse:this.onRemoveFormat}),t&&React.createElement(q.RichTextToolbarButton,{icon:"star-filled",title:Object(B.__)("Unlink"),onClick:this.onRemoveFormat,isActive:t,shortcutType:"primaryShift",shortcutCharacter:"p"}),!t&&React.createElement(q.RichTextToolbarButton,{icon:"star-filled",title:tn,onClick:this.addLink,isActive:t,shortcutType:"primary",shortcutCharacter:"p"}),React.createElement(zt,{addingLink:this.state.addingLink,stopAddingLink:this.stopAddingLink,isActive:t,activeAttributes:n,value:r,onChange:o}))}}])&&Qt(t.prototype,n),a}(c.Component))},rn=(n(71),["name"]);function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var an=function(){return Je};a()((function(){Object(re.addFilter)("editor.Autocomplete.completers","fluentcrm/add_autocmplete",(function(e,t){return e=e.filter((function(e){return"users"!==e.name})),[].concat(function(e){if(Array.isArray(e))return on(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return on(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[ne]);var n})),Object(re.addFilter)("blocks.registerBlockType","fluentcrm/remove_drop_cap",(function(e,t){if("core/paragraph"!==t)return e;var n=Object.assign({},e);return n.supports&&n.supports.__experimentalFeatures&&n.supports.__experimentalFeatures.typography&&n.supports.__experimentalFeatures.typography.dropCap&&(n.supports.__experimentalFeatures.typography.dropCap=!1),n})),Object(re.addFilter)("editor.MediaUpload","crm/media_uploader",an),Object(l.registerCoreBlocks)(),Object(u.registerBlockType)("fluentcrm/conditional-group",lt),window.fcAdmin.has_smart_link&&[nn].forEach((function(e){var t=e.name,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,rn);return Object(ut.registerFormatType)(t,n)}))})),window.fluentCrmBootEmailEditor=function(e,t){var n=window.fceSettings||{};n.content=e,Object(c.render)(React.createElement(Z,{settings:n,onChangeHandle:t}),document.getElementById("fluentcrm_block_editor_x"))}}]);